<!doctype html><html lang=en-us><head><link rel=icon href=/favicon_main.svg><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta property="og:url" content="https://example.com/posts/flavors/"><meta property="og:type" content="article"><meta property="og:title" content="Flavors"><meta property="og:description" content><meta property="og:image:width" content="375"><meta property="og:image:height" content="250"><meta property="og:image" content="https://example.com/images/default_summary_hu2be732aee21a2469ead3fe1f2df8caca_2088687_600x0_resize_q75_box.jpg"><title>Personal website and blog - Flavors</title><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=/css/style.6fd7fa42c7b7fe49cfeceeed650d33cb8d1cdbfe842e514a22e57a6b712729aa.css integrity="sha256-b9f6Qse3/knP7O7tZQ0zy40c2/6ELlFKIuV6a3EnKao="><link rel=stylesheet type=text/css href=/css/monokai-sublime.9.15.8.min.91376415864fdd3a92be524052267afece4bdb1bb8c6c754f5e60c5ac28e93be.css integrity="sha256-kTdkFYZP3TqSvlJAUiZ6/s5L2xu4xsdU9eYMWsKOk74="><link rel=stylesheet type=text/css href=/css/all.min.2d91c07e15fc26f2697117b326256c0a2b0586dd12a15c622a53cd47a9e54a1d.css integrity="sha256-LZHAfhX8JvJpcRezJiVsCisFht0SoVxiKlPNR6nlSh0="><link rel=stylesheet type=text/css href=/css/refresh.ccfd23f8053a1571a3e474a6877f42a6a1924c6bbf1b64c7704b49a0353b4650.css integrity="sha256-zP0j+AU6FXGj5HSmh39CpqGSTGu/G2THcEtJoDU7RlA="><link rel=stylesheet type=text/css href=/css/devicon.min.149016fbf45c8bc157d6f55ce3ee875feaa3f90446bf7d151fbc16a9f21a8859.css integrity="sha256-FJAW+/Rci8FX1vVc4+6HX+qj+QRGv30VH7wWqfIaiFk="></head><body><div id=preloader><div id=status></div></div><nav class="navbar is-fresh is-transparent no-shadow" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item><div class="menu-icon-wrapper left-menu-icon-wrapper" style=visibility:visible><svg width="1e3" height="1e3"><path class="path1" d="M3e2 4e2H7e2c2e2.0 2e2 350-1e2 450A4e2 4e2.0 012e2 2e2L8e2 8e2"/><path class="path2" d="M3e2 5e2H7e2"/><path class="path3" d="M7e2 6e2H3e2c-2e2.0-2e2-4e2 1e2-450A4e2 380 0 112e2 8e2L8e2 2e2"/></svg><button id=menu-icon-trigger class=menu-icon-trigger></button></div><div class="navbar-item left-menu-icon-wrapper">Tags</div></a><div class="navbar-item is-expanded"></div><a class="navbar-item is-hidden-desktop"><div data-target=navbar-menu class="navbar-item right-menu-icon-wrapper is-hidden-desktop">Menu</div><div data-target=navbar-menu class="menu-icon-wrapper right-menu-icon-wrapper" style=visibility:visible><svg width="1e3" height="1e3"><path class="path1" d="M3e2 4e2H7e2c2e2.0 2e2 350-1e2 450A4e2 4e2.0 012e2 2e2L8e2 8e2"/><path class="path2" d="M3e2 5e2H7e2"/><path class="path3" d="M7e2 6e2H3e2c-2e2.0-2e2-4e2 1e2-450A4e2 380 0 112e2 8e2L8e2 2e2"/></svg><button id=menu-icon-trigger class=menu-icon-trigger></button></div></a></div><div id=navbar-menu class="navbar-menu is-static"><div class=navbar-end><a href=/posts/ class="navbar-item is-secondary">Posts</a></div></div></div></nav><nav id=navbar-clone class="navbar is-fresh is-transparent" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item><div class="menu-icon-wrapper left-menu-icon-wrapper" style=visibility:visible><svg width="1e3" height="1e3"><path class="path1" d="M3e2 4e2H7e2c2e2.0 2e2 350-1e2 450A4e2 4e2.0 012e2 2e2L8e2 8e2"/><path class="path2" d="M3e2 5e2H7e2"/><path class="path3" d="M7e2 6e2H3e2c-2e2.0-2e2-4e2 1e2-450A4e2 380 0 112e2 8e2L8e2 2e2"/></svg><button id=menu-icon-trigger class=menu-icon-trigger></button></div><div class="navbar-item left-menu-icon-wrapper">Tags</div></a><div class="navbar-item is-expanded"></div><a class="navbar-item is-hidden-desktop"><div data-target=cloned-navbar-menu class="navbar-item right-menu-icon-wrapper is-hidden-desktop">Menu</div><div data-target=cloned-navbar-menu class="menu-icon-wrapper right-menu-icon-wrapper" style=visibility:visible><svg width="1e3" height="1e3"><path class="path1" d="M3e2 4e2H7e2c2e2.0 2e2 350-1e2 450A4e2 4e2.0 012e2 2e2L8e2 8e2"/><path class="path2" d="M3e2 5e2H7e2"/><path class="path3" d="M7e2 6e2H3e2c-2e2.0-2e2-4e2 1e2-450A4e2 380 0 112e2 8e2L8e2 2e2"/></svg><button id=menu-icon-trigger class=menu-icon-trigger></button></div></a></div><div id=cloned-navbar-menu class="navbar-menu is-static"><div class=navbar-end><a href=/posts/ class="navbar-item is-secondary">Posts</a></div></div></div></nav><section class="section is-medium"><div class=container><div class=columns><div class="column is-centered-tablet-portrait"><h1 class="title is-2 section-title">Flavors</h1><h5 class="subtitle is-5 is-muted"></h5><div class=divider></div><section class="section content has-text-justified"><p><img src=/ice_cream.jpg alt></p><p><strong>Originally published on 11/20/2016</strong></p><p>Banana, blueberries, cherry, coffee, cream. These are all great ice cream flavors! Especially the first two! But because of the cold weather outside, we are not going to talk about ice cream. Instead, we will talk about one of the great features of the Android Gradle plugin called <strong>Flavors</strong>.</p><h2 id=what-are-flavors>What are Flavors?</h2><p>The idea behind that feature is relatively simple. It provides version customization possibilities. In other words, we can provide different version of the same application with some minor differences. Based on that, a single project can have multiple different flavors.</p><h2 id=why-do-we-need-them>Why do we need them?</h2><p>There are several reasons for using flavors. For me, the most obvious one is when you want to develop a white-label product. In Wikipedia the term is described in the following way:</p><blockquote><p>A white label product is a product or service produced by one company (the producer) that other companies (the marketers) rebrand to make it appear as if they had made it.</p></blockquote><p>If we try to relate that description to the mobile world, we can use the idea of <a href=https://en.wikipedia.org/wiki/RSS>RSS</a> readers as an example. Imagen we have an application which can consume such a feed. Somehow we managed to sell that app to &lsquo;New York Times&rsquo;, but then &lsquo;The Guardian&rsquo; wants a RSS reader as well. Instead of writing the whole application from the ground bottom, we can just create a new flavor of the version we currently have, change the UI layer, align the feed tags with the one used by the guys from &lsquo;The Guardian&rsquo; and sell the app to them as well. And so the application / product we have is a white-labeling product.</p><h2 id=how-to-use-them>How to use them?</h2><p>As mentioned previously, that feature is provided by the Android Gradle plugin. Thus, whenever we want to work with flavors we have to edit the Gradle files in our project. To be more precise, we need to make changes in our <strong>build.gradle</strong> file.</p><p>Defining a new flavor is easy:</p><script type=application/javascript src=https://gist.github.com/kostovtd/d45d676e84499248c7b3f28701cec29a.js></script><p>Each and every new flavor has to be included in the productFlavors block. After defining our flavors we can check them from the <strong>Build Variants</strong> panel (View > Tool Windows > Build Variants).</p><p>Each defined flavor has the same properties as the <strong>defaultConfig</strong>. Everything described in the defaultConfig block can be used in a flavor block as well. This is because the defaultConfig actually belongs to the ProductFlavor class. The defaultConfig block can be found in your <strong>build.gradle</strong> file.</p><p>The properties and methods which can by used inside of a newly defined flavor are actually a lot. They are described in the ProductFlavor class mentioned above. Some of them are:</p><ul><li>applicationId</li><li>versionName</li><li>versionCode</li><li>buildConfigField (type, name, value)</li><li>minSdkVersion / maxSdkVersion</li></ul><p>Most of them are self explanatory, but applicationId and buildConfigField are not. The applicationId property sets the id of the application. Surprise! Surprise! But why do we need to assign a new id to our flavor? There are several reasons for doing that, but one of them is the fact that you can not have two applications with the same id on a single devices. Thus, by giving a new id to your flavor you can actually keep two separate installations on your app on the same devices. That&rsquo;s useful for testing and when doing demos.</p><p>The buildConfigField method is useful when you want to predefine particular build configurations to your flavor. These configurations can vary in type, name and value. For example, that&rsquo;s useful when your flavors are using different host addresses for server communication and in many other situations.</p><script type=application/javascript src=https://gist.github.com/kostovtd/3536d9b29d666d07272c3ff4437d7bc4.js></script><p>Lately you can access the values predefined in the <strong>buildConfigField</strong> method from Java in the following way: <strong>BuildConfig.HOST</strong></p><h2 id=source-code-and-resources>Source code and resources:</h2><p>Although, the flavors are relatively similar, there are some small differences between them as well. These differences can be related to the source code, the drawable resources, the assets, etc. But they all share one base set of Java code, icons, strings and so on. Happily, the Android Gradle plugin can give us some hints on how to structure all the folders for our flavors. There is a handy task which will create a small report, based on the flavors we have. In the report you will find the exact path and naming for the important folders and files (java, res, assets, Manifest, etc.) for each flavor.</p><p>To generate this report do the following:</p><ol><li>Click <strong>Gradle</strong> on the right side of the IDE window.</li><li>Navigate to <strong>MyApplication > Tasks > Android</strong> and double click sourceSets.</li><li>To view the report, click <strong>Gradle Console</strong> at the bottom of the IDE window.</li></ol><p><img src=/gradle_task_report.png alt></p><p>This report can be really useful, because of the fact that Android Studio does NOT create the needed source set directories for each flavor.</p><h2 id=build-variants-vs-flavors>Build variants VS Flavors</h2><p>If you know a thing or two about build variants and flavors, but the distinction between these two entities is still not clear in your head, I highly recommend you to go through the following StackOverflow discussion -
<a href=http://stackoverflow.com/questions/27905934/why-are-build-types-distinct-from-product-flavors>http://stackoverflow.com/questions/27905934/why-are-build-types-distinct-from-product-flavors</a></p><h2 id=resources>Resources:</h2><ul><li><a href=http://blog.brainattica.com/how-to-work-with-flavours-on-android/>http://blog.brainattica.com/how-to-work-with-flavours-on-android/</a></li><li><a href=https://developer.android.com/studio/build/build-variants.html>https://developer.android.com/studio/build/build-variants.html</a></li><li><a href=https://objectpartners.com/2015/03/31/using-android-product-flavors-to-build-full-and-demo-version-of-the-app>https://objectpartners.com/2015/03/31/using-android-product-flavors-to-build-full-and-demo-version-of-the-app</a></li><li><a href=https://en.wikipedia.org/wiki/White-label_product>https://en.wikipedia.org/wiki/White-label_product</a></li></ul><p>Feel free to share, comment & give your opinion on the topic!</p></section></div></div></div><div class=container><div class=columns><div class="column has-text-right is-family-monospace is-centered-tablet-portrait">Last modified:&nbsp;11 March 2019</div></div></div></section><footer class="footer footer-dark"><div class=container><div class=columns><div class=column><img src=/footer.svg alt></div><div class=column><div class=footer-column><div class=footer-header><h3>Website</h3></div><ul class=link-list><li></li><li><a href=/tags/><span class=icon><i class="fa fa-tag"></i></span>
All Tags</a></li></ul></div></div><div class=column><div class=footer-column><div class=footer-header><h3>Contacts</h3></div><ul class=link-list><li><a href=https://www.linkedin.com/your_linkedin_profile target=_blank><span class=icon><i class="fab fa-linkedin"></i></span>
My LinkedIn</a></li><li><a href=mailto:kostovtd@gmail.com target=_blank><span class=icon><i class="fa fa-envelope"></i></span>
My Email</a></li></ul></div></div><div class=column><div class=footer-column><div class=footer-header><h3>Copyright</h3></div><ul class=link-list><li><a><span class=icon><i class="fa fa-copyright"></i></span>
Todor Kostov - 2022</a></li></ul></div></div></div></div></footer><div id=backtotop><a href=#></a></div><div class="sidebar scroll"><div class=sidebar-header><img src=/sidebar.svg alt>
<a class=sidebar-close href=javascript:void(0);><i data-feather=x></i></a></div><div class=inner><ul class=sidebar-menu><li class=no-children><a href=/tags/><div class=columns><table width=100%><tr><td><span class=icon><i class="fa fa-cubes"></i></span>
All Tags</td><td class=has-text-right></td></tr></table></div></a><li class=no-children><a href=/tags/android><div class=columns><table width=100%><tr><td><span class=icon><i class="fa fa-cube"></i></span>android</td><td class=has-text-right><div class=tag-number>7</div></td></tr></table></div></a></li><li class=no-children><a href=/tags/css><div class=columns><table width=100%><tr><td><span class=icon><i class="fa fa-cube"></i></span>css</td><td class=has-text-right><div class=tag-number>1</div></td></tr></table></div></a></li><li class=no-children><a href=/tags/html><div class=columns><table width=100%><tr><td><span class=icon><i class="fa fa-cube"></i></span>html</td><td class=has-text-right><div class=tag-number>1</div></td></tr></table></div></a></li><li class=no-children><a href=/tags/markdown><div class=columns><table width=100%><tr><td><span class=icon><i class="fa fa-cube"></i></span>markdown</td><td class=has-text-right><div class=tag-number>1</div></td></tr></table></div></a></li></ul></div></div><script src=/js/jquery-2.2.4.893e90f6230962e42231635df650f20544ad22affc3ee396df768eaa6bc5a6a2.js integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="></script>
<script src=/js/feather.4.22.0.1ab07abeb9975f283f6b5f29451981be680fbf77ea778f991d457511d210476a.js integrity="sha256-GrB6vrmXXyg/a18pRRmBvmgPv3fqd4+ZHUV1EdIQR2o="></script>
<script src=/js/modernizr-3.6.0.e013a1e54e3c19d83537ba42b900d34451e5e4b2e789be27a02ac9b152edb741.js integrity="sha256-4BOh5U48Gdg1N7pCuQDTRFHl5LLnib4noCrJsVLtt0E="></script>
<script src=/js/refresh.62c1a9b7d85bcf4d944cd585a01dfa8fb15112a7d2cf9fb819db20493bfe7484.js integrity="sha256-YsGpt9hbz02UTNWFoB36j7FREqfSz5+4GdsgSTv+dIQ="></script><script>window.MathJax={loader:{load:["core","input/tex-base","output/chtml"],source:{core:"/js/mathjax/core.d48fedf25c74c54fa6bf79646de92b02155872bdc4f5f7d0bbfc662523d8b4f5.js",'input/tex-base':"/js/mathjax/tex-base.1b68b8741dfc54e8f7222f88bea8ffcfc57ac54b2a2d8f4edf6800aa44d49441.js",'output/chtml':"/js/mathjax/chtml.926cd166e0f8c1f8a566a718d60c9c58a2b7142b156d30d5f02cec7c3b0ad60a.js",'output/chtml/fonts/tex':"/js/mathjax/tex_out.b8b2bb939c0dae84bf1390bfe6d32af13e83f647cdac01d544d2a7a517477e9d.js"}},chtml:{fontURL:"/fonts"}}</script><script src=/js/mathjax/startup.234a2513e6bdbc1eee06ca19abceca30fe4034e82afb373c08274c1ba2feb1a6.js integrity="sha256-I0olE+a9vB7uBsoZq87KMP5ANOgq+zc8CCdMG6L+saY="></script>
<script src=/js/highlight.9.18.1.b1c58829c55afcc1f568022af4b08ed8976da404d2990b7535bd8e19c0e3310c.js integrity="sha256-scWIKcVa/MH1aAIq9LCO2JdtpATSmQt1Nb2OGcDjMQw="></script>
<script src=/js/highlightjs-line-numbers.2.7.0.min.ddfe282e07b7ec1ed069c23f92c7c8216ddb3f1879c4e962d37fd52adbd15a05.js integrity="sha256-3f4oLge37B7QacI/ksfIIW3bPxh5xOli03/VKtvRWgU="></script><script>hljs.initHighlightingOnLoad(),hljs.initLineNumbersOnLoad(),document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".codeinline").forEach(e=>{hljs.highlightBlock(e)})})</script></body></html>